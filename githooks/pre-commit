#!/bin/sh

echo "ğŸ—ï¸  Running pre-commit build check..."

# Build the site into a temporary folder so we don't mess up your _site directory
bundle exec jekyll build --destination /tmp/_jekyll_build_test

# Capture the result code
RESULT=$?

if [ $RESULT -ne 0 ]; then
    echo "âŒ Jekyll build failed! Commit aborted."
    echo "   Fix the errors above and try again."
    exit 1
fi

echo "âœ… Build successful. Proceeding with commit."
exit 0
